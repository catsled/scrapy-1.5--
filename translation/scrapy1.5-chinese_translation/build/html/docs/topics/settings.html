

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>配置(Settings) &mdash; my_project 0.15 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="my_project 0.15 documentation" href="../../index.html"/>
        <link rel="prev" title="链接提取器" href="link_extractors.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> my_project
          

          
          </a>

          
            
            
              <div class="version">
                0.15
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">First step</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/scrapy_glance.html">Scrapy初见</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/scrapy_install.html">安装指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/scrapy_tutorial.html">Scrapy 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Basic Concept</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="command_line_tool.html">命令行工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="spiders.html">Spiders</a></li>
<li class="toctree-l1"><a class="reference internal" href="selectors.html">选择器</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrapy_shell.html">Scrapy shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="item_pipeline.html">Item Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="feed_exports.html">feed导出</a></li>
<li class="toctree-l1"><a class="reference internal" href="link_extractors.html">链接提取器</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">配置(Settings)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#docs-topics-settings-module-envvar">指定settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">填充settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#command-line-options">1. 命令行选项(Command line options)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spider-settings-per-spider">2. 配置每一个spider (Settings per-spider)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#project-settings-module">3. 项目配置模块(Project settings module)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#default-settings-per-command">4. 每条命令的默认配置(Default settings per-command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#default-global-settings">5. 默认全局配置(Default global settings)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id3">如何获取配置信息</a></li>
<li class="toctree-l2"><a class="reference internal" href="#retionale-for-settings-names">合理地命名配置名称(Retionale for settings names)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#built-in-settings-reference">内置配置参考(Built-in settings reference)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aws-access-key-id">AWS_ACCESS_KEY_ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="#aws-secret-access-key-id">AWS_SECRET_ACCESS_KEY_ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bot-name">BOT_NAME</a></li>
<li class="toctree-l3"><a class="reference internal" href="#concurrent-items">CONCURRENT_ITEMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#concurrent-requests">CONCURRENT_REQUESTS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#concurrent-requests-per-doman">CONCURRENT_REQUESTS_PER_DOMAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="#concurrent-requests-per-ip">CONCURRENT_REQUESTS_PER_IP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#default-item-class">DEFAULT_ITEM_CLASS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#default-request-headers">DEFAULT_REQUEST_HEADERS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#depth-limit">DEPTH_LIMIT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#depth-priority">DEPTH_PRIORITY</a></li>
<li class="toctree-l3"><a class="reference internal" href="#depth-stats">DEPTH_STATS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#depth-stats-verbose">DEPTH_STATS_VERBOSE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dnscache-enabled">DNSCACHE_ENABLED</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dnscache-size">DNSCACHE_SIZE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dns-timeout">DNS_TIMEOUT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloader">DOWNLOADER</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloader-httpclientfactory">DOWNLOADER_HTTPCLIENTFACTORY</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloader-clientcontextfactory">DOWNLOADER_CLIENTCONTEXTFACTORY</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloader-client-tls-method">DOWNLOADER_CLIENT_TLS_METHOD</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloader-middlewares">DOWNLOADER_MIDDLEWARES</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloader-middlewares-base">DOWNLOADER_MIDDLEWARES_BASE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloader-stats">DOWNLOADER_STATS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-delay">DOWNLOAD_DELAY</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-handlers">DOWNLOAD_HANDLERS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-handlers-base">DOWNLOAD_HANDLERS_BASE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-timeout">DOWNLOAD_TIMEOUT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-maxsize">DOWNLOAD_MAXSIZE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-warnsize">DOWNLOAD_WARNSIZE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-fail-on-dataloss">DOWNLOAD_FAIL_ON_DATALOSS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dupefilter-class">DUPEFILTER_CLASS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dupefilter-dubug">DUPEFILTER_DUBUG</a></li>
<li class="toctree-l3"><a class="reference internal" href="#editor">EDITOR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extensions">EXTENSIONS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extensions-base">EXTENSIONS_BASE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#feed-tempdir">FEED_TEMPDIR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ftp-passive-mode">FTP_PASSIVE_MODE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ftp-password">FTP_PASSWORD</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ftp-user">FTP_USER</a></li>
<li class="toctree-l3"><a class="reference internal" href="#item-pipelines">ITEM_PIPELINES</a></li>
<li class="toctree-l3"><a class="reference internal" href="#item-pipelines-base">ITEM_PIPELINES_BASE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-enabled">LOG_ENABLED</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-encoding">LOG_ENCODING</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-file">LOG_FILE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-format">LOG_FORMAT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-dateformat">LOG_DATEFORMAT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-level">LOG_LEVEL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-stdout">LOG_STDOUT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-short-names">LOG_SHORT_NAMES</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memdebug-enabled">MEMDEBUG_ENABLED</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memdebug-notify">MEMDEBUG_NOTIFY</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memusage-enabled">MEMUSAGE_ENABLED</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memusage-limit-mb">MEMUSAGE_LIMIT_MB</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memusage-check-interval-seconds">MEMUSAGE_CHECK_INTERVAL_SECONDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memusage-notify-mail">MEMUSAGE_NOTIFY_MAIL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memusage-warning-mb">MEMUSAGE_WARNING_MB</a></li>
<li class="toctree-l3"><a class="reference internal" href="#newspider-module">NEWSPIDER_MODULE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#randomize-download-delay">RANDOMIZE_DOWNLOAD_DELAY</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reactor-threadpool-maxsize">REACTOR_THREADPOOL_MAXSIZE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#redirect-max-times">REDIRECT_MAX_TIMES</a></li>
<li class="toctree-l3"><a class="reference internal" href="#redirect-priority-adjust">REDIRECT_PRIORITY_ADJUST</a></li>
<li class="toctree-l3"><a class="reference internal" href="#retry-priority-adjust">RETRY_PRIORITY_ADJUST</a></li>
<li class="toctree-l3"><a class="reference internal" href="#robotstxt-obey">ROBOTSTXT_OBEY</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduler">SCHEDULER</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduler-dubug">SCHEDULER_DUBUG</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduler-disk-queue">SCHEDULER_DISK_QUEUE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduler-memory-queue">SCHEDULER_MEMORY_QUEUE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduler-priority-queue">SCHEDULER_PRIORITY_QUEUE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spider-contracts">SPIDER_CONTRACTS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spider-contracts-base">SPIDER_CONTRACTS_BASE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spider-loader-class">SPIDER_LOADER_CLASS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spider-loader-warn-only">SPIDER_LOADER_WARN_ONLY</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spider-middlewares">SPIDER_MIDDLEWARES</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spider-middlewares-base">SPIDER_MIDDLEWARES_BASE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spider-modules">SPIDER_MODULES</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stats-class">STATS_CLASS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stats-dump">STATS_DUMP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#statsmailer-rcpts">STATSMAILER_RCPTS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#telnetconsole-enabled">TELNETCONSOLE_ENABLED</a></li>
<li class="toctree-l3"><a class="reference internal" href="#telnetconsole-port">TELNETCONSOLE_PORT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#templates-dir">TEMPLATES_DIR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#urllength-limit">URLLENGTH_LIMIT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-agent">USER_AGENT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#settings-documented-elsehwhere">Settings documented elsehwhere:</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">my_project</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>配置(Settings)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/topics/settings.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="settings">
<span id="docs-topics-settings"></span><h1>配置(Settings)<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h1>
<p>Scrapy settings 允许你定制所有Scrapy组件的行为，包括: core, extensions, pipelines 和 spiders。</p>
<p>settings 的基础架构提供了一个可供其他代码获取配置属性的全局键值对(key-value)映射命名空间。settings也
可以通过其他途径进行配置。</p>
<p>同样地，settings也提供了选择当前正在运行的Scrapy project(如果你有很多project)。</p>
<p>查看可用的内置settings列表: <a class="reference internal" href="#docs-topics-settings-ref"><span class="std std-ref">内置配置参考(Built-in settings reference)</span></a></p>
<div class="section" id="docs-topics-settings-module-envvar">
<span id="id1"></span><h2>指定settings<a class="headerlink" href="#docs-topics-settings-module-envvar" title="Permalink to this headline">¶</a></h2>
<p>当使用Scrapy时， 你需要指定你要使用哪一个settings文件。可以使用环境变量 <code class="docutils literal notranslate"><span class="pre">SCRAPY_SETTINGS_MODULE</span></code>
来实现该功能。</p>
<p><code class="docutils literal notranslate"><span class="pre">SCRAPY_SETTINGS_MODULE</span></code> 的值应该使用Python路径语法(Python path syntax)编写, 比如说: <code class="docutils literal notranslate"><span class="pre">myproject.settings</span></code>。
注意，settings模块应该包含在Python的查找路径中 <a class="reference external" href="https://docs.python.org/2/tutorial/modules.html#the-module-search-path">import search path</a> 。</p>
</div>
<div class="section" id="id2">
<h2>填充settings<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Settings可以通过不同的方法进行填充，每一种方法拥有不同的优先级。优先级顺序列表:</p>
<blockquote>
<div><ol class="arabic simple">
<li>命令行选项 (Commoand line options) – 优先级最高</li>
<li>每个爬虫的配置 (Settings pre-spider)</li>
<li>项目配置模块 (Project settings module)</li>
<li>每条命令的默认配置 (Default settings per-command)</li>
<li>默认全局配置 (Default global settings) – 优先级最低</li>
</ol>
</div></blockquote>
<p>填充这些配置源是由内部机制谨慎完成的，但是也可以通过调用API进行手动处理。参考 <span class="xref std std-ref">docs-topics-api-settings</span>。</p>
<p>更多方法的详细描述。</p>
<div class="section" id="command-line-options">
<h3>1. 命令行选项(Command line options)<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h3>
<p>通过命令行提供的参数拥有最高的优先级，可以用来覆盖其他的任何选项。你可以使用 <code class="docutils literal notranslate"><span class="pre">-s</span></code> (或 <code class="docutils literal notranslate"><span class="pre">--set</span></code>) 命令行选项
来明确的指定要覆盖哪一个或者哪些配置信息。</p>
<p>例:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>scrapy crawl myspider -s <span class="nv">LOG_FILE</span><span class="o">=</span>scrapy.log
</pre></div>
</div>
</div>
<div class="section" id="spider-settings-per-spider">
<h3>2. 配置每一个spider (Settings per-spider)<a class="headerlink" href="#spider-settings-per-spider" title="Permalink to this headline">¶</a></h3>
<p>Spiders 可以定义自己的配置信息，该配置信息的优先级高于项目(project)的配置信息，并且会覆盖项目的配置信息。
通过设置spiders的 <a class="reference internal" href="spiders.html#scrapy.spiders.Spider.custom_settings" title="scrapy.spiders.Spider.custom_settings"><code class="xref py py-attr docutils literal notranslate"><span class="pre">custom_settings</span></code></a> 属性实现</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>class MySpider<span class="o">(</span>scrapy.Spider<span class="o">)</span>:
    <span class="nv">name</span> <span class="o">=</span> <span class="s1">&#39;myspider&#39;</span>

    <span class="nv">custom_settings</span> <span class="o">=</span> <span class="o">{</span>
        <span class="s1">&#39;SOME_SETTING&#39;</span>: <span class="s1">&#39;some value&#39;</span>,
    <span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="project-settings-module">
<h3>3. 项目配置模块(Project settings module)<a class="headerlink" href="#project-settings-module" title="Permalink to this headline">¶</a></h3>
<p>项目配置模块是Scrapy项目(Scrapy prject)的标准配置文件，你的大部分配置信息都会写在该文件中。
对于一个标准的Scrapy项目，这意味着你将会在对应的 <code class="docutils literal notranslate"><span class="pre">settings.py</span></code> 文件中添加或修改配置信息。</p>
</div>
<div class="section" id="default-settings-per-command">
<h3>4. 每条命令的默认配置(Default settings per-command)<a class="headerlink" href="#default-settings-per-command" title="Permalink to this headline">¶</a></h3>
<p>每一个 <span class="xref std std-doc">Scrapy tool</span> 命令都可以拥有自己的默认配置，该配置可以覆盖全局
默认配置。这些自定义配置可以通过命令类(command class)的 <code class="docutils literal notranslate"><span class="pre">default_settings</span></code> 属性进行指定。</p>
</div>
<div class="section" id="default-global-settings">
<h3>5. 默认全局配置(Default global settings)<a class="headerlink" href="#default-global-settings" title="Permalink to this headline">¶</a></h3>
<p>默认全局配置位于 <code class="docutils literal notranslate"><span class="pre">scrapy.settings.default_settings</span></code> 模块中。相关文档 <a class="reference internal" href="#docs-topics-settings-ref"><span class="std std-ref">内置配置参考(Built-in settings reference)</span></a> 。</p>
</div>
</div>
<div class="section" id="id3">
<h2>如何获取配置信息<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>在一个spider中，可以同过 <code class="docutils literal notranslate"><span class="pre">self.settings</span></code> 获取settings信息</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MySpider</span><span class="p">(</span><span class="n">scrapy</span><span class="o">.</span><span class="n">Spider</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;myspider&#39;</span>
    <span class="n">start_urls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;http://example.com&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Existing settings: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">attributes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">settings</span></code> 只有在spider初始化以后才会被设置到基础的Spider类中。如果你想在初始化之前获取
配置信息(如: 在你的spider中的 <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> 方法中使用)，你需要重写
<a class="reference internal" href="spiders.html#scrapy.spiders.Spider.from_crawler" title="scrapy.spiders.Spider.from_crawler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_crawler()</span></code></a> 方法。</p>
</div>
<p>可以通过向extensions, middlewares 和 item pipelines中的 <code class="docutils literal notranslate"><span class="pre">from_crawler</span></code> 方法传递的Crawler
对象的 <code class="xref py py-attr docutils literal notranslate"><span class="pre">scrapy.crawler.Crawler.settings</span></code> 属性获取配置信息。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyExtension</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">log_is_enabled</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">log_is_enabled</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;log is enabled!&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_crawler</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">crawler</span><span class="p">):</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">crawler</span><span class="o">.</span><span class="n">settings</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">getbool</span><span class="p">(</span><span class="s1">&#39;LOG_ENABLED&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>你可以像使用字典一样使用配置对象(如: <code class="docutils literal notranslate"><span class="pre">settings['LOG_ENABLED']</span></code> )，但是，为了避免类型错误，
更好的做法是使用特定的格式来提取你需要的信息。对应方法参考: <code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code> API。</p>
</div>
<div class="section" id="retionale-for-settings-names">
<h2>合理地命名配置名称(Retionale for settings names)<a class="headerlink" href="#retionale-for-settings-names" title="Permalink to this headline">¶</a></h2>
<p>配置名称通常以对应的配置组件名称作为前缀。比如说: 一个虚构的 robots.txt 扩展的配置名称应该为 <code class="docutils literal notranslate"><span class="pre">ROBOTSTXT_ENABLED</span></code>，
<code class="docutils literal notranslate"><span class="pre">ROBOTSTXT_OBEY</span></code>，<code class="docutils literal notranslate"><span class="pre">ROBOTSTXT_CACHEDIE</span></code>，等。</p>
</div>
<div class="section" id="built-in-settings-reference">
<span id="docs-topics-settings-ref"></span><h2>内置配置参考(Built-in settings reference)<a class="headerlink" href="#built-in-settings-reference" title="Permalink to this headline">¶</a></h2>
<p>这里以字母序列出了所有可用的Scrapy配置列表，以及默认值和使用范围。</p>
<p>如果绑定了特定组件，给出的范围以及是否可用将会表示该配置会被在何处使用。在这种情况下，
将会给出该组件的模块，该组件通常是 extensions, middleware 或 pipeline。这也意味着，
为了使该配置生效，我们必须启用该组件。</p>
<div class="section" id="aws-access-key-id">
<span id="std:setting-AWS_ACCESS_KEY_ID"></span><h3>AWS_ACCESS_KEY_ID<a class="headerlink" href="#aws-access-key-id" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>AWS访问秘钥(access key) 将会被用于需要连接 <a class="reference external" href="https://aws.amazon.com/">Amazon Web services</a> 的代码中，
如: <span class="xref std std-ref">S3 feed storage backend</span>。</p>
</div>
<div class="section" id="aws-secret-access-key-id">
<span id="std:setting-AWS_SECRET_ACCESS_KEY"></span><h3>AWS_SECRET_ACCESS_KEY_ID<a class="headerlink" href="#aws-secret-access-key-id" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>AWS加密访问秘钥(secret access key) 将会被用于需要连接 <a class="reference external" href="https://aws.amazon.com/">Amazon Web services</a> 的代码中，
如: <span class="xref std std-ref">S3 feed storage backend</span>。</p>
</div>
<div class="section" id="bot-name">
<h3>BOT_NAME<a class="headerlink" href="#bot-name" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapybot'</span></code></p>
<p>爬虫机器人的名称通常以爬虫项目的名称命名。该名称将会被用来构建默认的User-Agent和记录日志。</p>
<p>当使用 <a class="reference internal" href="command_line_tool.html#std:command-startproject"><code class="xref std std-command docutils literal notranslate"><span class="pre">startproject</span></code></a> 命令创建项目时，BOT_NAME将会自动根据项目名称自动填充。</p>
</div>
<div class="section" id="concurrent-items">
<h3>CONCURRENT_ITEMS<a class="headerlink" href="#concurrent-items" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">100</span></code></p>
<p>可同时并行处理的最大items数量 (参考 <span class="xref std std-ref">Item Pipeline</span>)。</p>
</div>
<div class="section" id="concurrent-requests">
<span id="std:setting-CONCURRENT_REQUESTS"></span><h3>CONCURRENT_REQUESTS<a class="headerlink" href="#concurrent-requests" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">16</span></code></p>
<p>可同时被Scrapy 下载器(downloader) 处理的最大请求数。</p>
</div>
<div class="section" id="concurrent-requests-per-doman">
<span id="std:setting-CONCURRENT_REQUESTS_PER_DOMAN"></span><h3>CONCURRENT_REQUESTS_PER_DOMAN<a class="headerlink" href="#concurrent-requests-per-doman" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">8</span></code></p>
<p>可同时向单个域名请求的最大数量。</p>
<p>参考: <span class="xref std std-ref">docs-topics-autothrottle</span> 和对应的设置选项 <a href="#id4"><span class="problematic" id="id5">:settings:`AUTOTHROTTLE_TARGET_CONCURRENCY`</span></a> 。</p>
</div>
<div class="section" id="concurrent-requests-per-ip">
<span id="std:setting-CONCURRENT_REQUESTS_PER_IP"></span><h3>CONCURRENT_REQUESTS_PER_IP<a class="headerlink" href="#concurrent-requests-per-ip" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
<p>可同时向单个IP请求的最大数量。如果值非零，那么配置 <a class="reference internal" href="#std:setting-CONCURRENT_REQUESTS_PER_DOMAN"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CONCURRENT_REQUESTS_PER_DOMAN</span></code></a> 将会被忽略，
也就是并发量将会被 <code class="docutils literal notranslate"><span class="pre">CONCURRENT_REQUESTS_PER_IP</span></code> 限制，而不会被 <code class="docutils literal notranslate"><span class="pre">CONCURRENT_REQUESTS_PER_DOMAN</span></code>
限制。</p>
<p>该配置同样会影响 <a class="reference internal" href="#std:setting-DOWNLOAD_DELAY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOAD_DELAY</span></code></a> 以及 <span class="xref std std-ref">docs-topics-autothrottle</span>: 如果，<a href="#id6"><span class="problematic" id="id7">:settings:`CONCURRENT_REQUESTS_PER_IP`</span></a>
的值非零，下载延时(download delay) 将会被IP限制，而不是被域名限制。</p>
</div>
<div class="section" id="default-item-class">
<span id="std:setting-DEFAULT_ITEM_CLASS"></span><h3>DEFAULT_ITEM_CLASS<a class="headerlink" href="#default-item-class" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapy.item.Item'</span></code></p>
<p>该默认类将会被用来在 <span class="xref std std-ref">the Scrapy shell</span> 中实例化items。</p>
</div>
<div class="section" id="default-request-headers">
<span id="std:setting-DEFAULT_REQUEST_HEADERS"></span><h3>DEFAULT_REQUEST_HEADERS<a class="headerlink" href="#default-request-headers" title="Permalink to this headline">¶</a></h3>
<p>默认值</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Accept-Language&#39;</span><span class="p">:</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>默认头信息将会在Scrapy的HTTP请求(Scrapy HTTP Requests)中使用。这些信息在 <code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultHeadersMiddleware</span></code>
中被填充。</p>
</div>
<div class="section" id="depth-limit">
<span id="std:setting-DEPTH_LIMIT"></span><h3>DEPTH_LIMIT<a class="headerlink" href="#depth-limit" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.spidermiddlewares.depth.DepthMiddleware</span></code></p>
<p>允许对每一个网站爬取的最大深度。如果值为0，则不会有任何限制。</p>
</div>
<div class="section" id="depth-priority">
<h3>DEPTH_PRIORITY<a class="headerlink" href="#depth-priority" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.spidermiddlewares.depth.DepthMiddleware</span></code></p>
<p>使用一个整数调整基于深度的请求优先级:</p>
<ul class="simple">
<li>0(默认值), 不会对深度进行优先级调整</li>
<li><strong>正数将会对优先级进行降序调整(深度越大优先级越低)</strong>; 该设置通常用来实现广度优先爬取 (BFO)</li>
<li>负数会对优先级进行升序调整(深度越大优先级越高), 该设置通常用来实现深度优先爬取 (DFO)</li>
</ul>
<p>参考: <span class="xref std std-ref">faq-bfo-dfo</span></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">该设置对于优先级的调整与其他优先级设置的策略刚好相反。如: <a href="#id8"><span class="problematic" id="id9">:settings:`REDIRECT_PRIORITY_ADJUST`</span></a>
和 <a class="reference internal" href="#std:setting-RETRY_PRIORITY_ADJUST"><code class="xref std std-setting docutils literal notranslate"><span class="pre">RETRY_PRIORITY_ADJUST</span></code></a></p>
</div>
</div>
<div class="section" id="depth-stats">
<span id="std:setting-DEPTH_STATS"></span><h3>DEPTH_STATS<a class="headerlink" href="#depth-stats" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.spidermiddlewares.depth.DepthMiddleware</span></code></p>
<p>是否收集最大深度的统计信息。</p>
</div>
<div class="section" id="depth-stats-verbose">
<span id="std:setting-DEPTH_STATS_VERBOSE"></span><h3>DEPTH_STATS_VERBOSE<a class="headerlink" href="#depth-stats-verbose" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.spidermiddlewares.depth.DepthMiddleware</span></code></p>
<p>是否收集冗余的深度统计信息。如果启用该配置，将会收集每一个深度对应的请求统计信息。</p>
</div>
<div class="section" id="dnscache-enabled">
<span id="std:setting-DNSCACHE_ENABLED"></span><h3>DNSCACHE_ENABLED<a class="headerlink" href="#dnscache-enabled" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>是否启用缓存中的DNS。</p>
</div>
<div class="section" id="dnscache-size">
<span id="std:setting-DNSCACHE_SIZE"></span><h3>DNSCACHE_SIZE<a class="headerlink" href="#dnscache-size" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
<p>缓存中DNS的大小。</p>
</div>
<div class="section" id="dns-timeout">
<span id="std:setting-DNS_TIMEOUT"></span><h3>DNS_TIMEOUT<a class="headerlink" href="#dns-timeout" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">60</span></code></p>
<p>DNS查询过期时间(单位: 秒)，支持小数。</p>
</div>
<div class="section" id="downloader">
<span id="std:setting-DOWNLOADER"></span><h3>DOWNLOADER<a class="headerlink" href="#downloader" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapy.core.downloader.Downloader'</span></code></p>
<p>爬取时用到的下载器。</p>
</div>
<div class="section" id="downloader-httpclientfactory">
<span id="std:setting-DOWNLOADER_HTTPCLIENTFACTORY"></span><h3>DOWNLOADER_HTTPCLIENTFACTORY<a class="headerlink" href="#downloader-httpclientfactory" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapy.core.downloader.webclient.ScrapyHTTPClientFactory'</span></code></p>
<p>定义一个用来进行 HTTP/1.0 连接( <code class="docutils literal notranslate"><span class="pre">HTTP10DownloadHandler</span></code> )的Twisted <code class="docutils literal notranslate"><span class="pre">protocol.ClientFactory</span></code> 类。</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">目前,HTTP/1.0几乎不会被使用，所以你可以放心的忽略此配置。除非你使用的Twisted的版本小于 11.1版本，
或者你真的想要使用HTTP/1.0，你可以通过使用 <code class="docutils literal notranslate"><span class="pre">'scrapy.core.downloader.handlers.http.HTTP10DownloadHandler'</span></code>
覆盖 <code class="docutils literal notranslate"><span class="pre">http(s)</span></code> 策略对应的 <a class="reference internal" href="#std:setting-DOWNLOAD_HANDLERS_BASE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOAD_HANDLERS_BASE</span></code></a> 。</p>
</div>
</div>
<div class="section" id="downloader-clientcontextfactory">
<span id="std:setting-DOWNLOADER_CLIENTCONTEXTFACTORY"></span><h3>DOWNLOADER_CLIENTCONTEXTFACTORY<a class="headerlink" href="#downloader-clientcontextfactory" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapy.core.downloader.contextfactory.ScrapyClientContextFactory'</span></code></p>
<p>代表了ContextFactory将会使用的类路径(classpath)</p>
<p>这里的”ContextFactory” 是指Twisted中关于SSL/TLS上下文环境的一个术语，该配置定义了TLS/SSL协议使用
的版本，是否需要证书认证，或是否启用客户端认证，以及其他的功能。</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Scrapy的默认上下文工厂并不理会远程服务器证书认证(remote server certitficate verification)。
对于网站爬取来说，这总是一个不错的选择。</p>
<p class="last">如果你确实需要启用远程服务器证书认证，Scrapy同样也提供了另一个上下文工厂类供你设置，
<code class="docutils literal notranslate"><span class="pre">'scrapy.core.downloader.contextfactory.BrowserLikeContextFactory'</span></code> 使用了平台的
证书去验证远程的端点。<strong>要使用该功能，Twisted&gt;=14.0.</strong></p>
</div>
<p>如果你确实要使用自定义的ContextFactory，确保在初始化时接受一个方法参数，该方法是映射了
<a href="#id10"><span class="problematic" id="id11">:settings:`DOWNLOADER_CLIENT_TLS_METHOD`</span></a> 的 <code class="docutils literal notranslate"><span class="pre">OpenSSL.SSL</span></code> 方法。</p>
</div>
<div class="section" id="downloader-client-tls-method">
<span id="std:setting-DOWNLOADER_CLIENT_TLS_METHOD"></span><h3>DOWNLOADER_CLIENT_TLS_METHOD<a class="headerlink" href="#downloader-client-tls-method" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'TLS'</span></code></p>
<p>在使用默认的 HTTP/1.1 下载器之前使用该配置来自定义 TLS/SSL 方法。</p>
<p>该设置的值必须为下列字符串值中的一个:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">'TLS'</span></code>: 映射到OpenSSL的 <code class="docutils literal notranslate"><span class="pre">TLS_method()</span></code> (又名 <code class="docutils literal notranslate"><span class="pre">SSlv23_method()</span></code> )，
允许协议协商，并且可以从平台的最高层开始支持； <strong>默认，推荐</strong></li>
<li><code class="docutils literal notranslate"><span class="pre">'TLSv1.0'</span></code>: 该值强制HTTPS使用1.0版本的TLS进行连接；在Scrapy&lt;1.1的版本中使用</li>
<li><code class="docutils literal notranslate"><span class="pre">'TLSv1.1'</span></code>: 强制使用1.1版本的TLS</li>
<li><code class="docutils literal notranslate"><span class="pre">'TLSv1.2'</span></code>: 强制使用1.2版本的TLS</li>
<li><code class="docutils literal notranslate"><span class="pre">'SSLv3'</span></code>: 强制使用3版本的SSL (<strong>不推荐使用</strong>)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">我们推荐你使用 PyOpenSSl&gt;=0.13的版本，Twisted&gt;=0.13或更高的版本。</p>
</div>
</div>
<div class="section" id="downloader-middlewares">
<span id="std:setting-DOWNLOADER_MIDDLEWARES"></span><h3>DOWNLOADER_MIDDLEWARES<a class="headerlink" href="#downloader-middlewares" title="Permalink to this headline">¶</a></h3>
<p>默认值:: <code class="docutils literal notranslate"><span class="pre">{}</span></code></p>
<p>一个包含了可以在你的项目中使用的中间件以及对应顺序的字典。更多信息 <span class="xref std std-ref">docs-topics-downloader-middleware-setting</span>。</p>
</div>
<div class="section" id="downloader-middlewares-base">
<span id="std:setting-DOWNLOADER_MIDDLEWARES_BASE"></span><h3>DOWNLOADER_MIDDLEWARES_BASE<a class="headerlink" href="#downloader-middlewares-base" title="Permalink to this headline">¶</a></h3>
<p>默认值:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware&#39;</span><span class="p">:</span> <span class="mi">350</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware&#39;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.useragent.UserAgentMiddleware&#39;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.retry.RetryMiddleware&#39;</span><span class="p">:</span> <span class="mi">550</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.ajaxcrawl.AjaxCrawlMiddleware&#39;</span><span class="p">:</span> <span class="mi">560</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware&#39;</span><span class="p">:</span> <span class="mi">580</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware&#39;</span><span class="p">:</span> <span class="mi">590</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.redirect.RedirectMiddleware&#39;</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.cookies.CookiesMiddleware&#39;</span><span class="p">:</span> <span class="mi">700</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware&#39;</span><span class="p">:</span> <span class="mi">750</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.stats.DownloaderStats&#39;</span><span class="p">:</span> <span class="mi">850</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware&#39;</span><span class="p">:</span> <span class="mi">900</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>一个包含了在Scrapy中默认启用的下载器中间件的字典。顺序较低的接近Scrapy引擎，顺序较高的接近下载器中间件。
永远不要在你的项目中修改该配置，但是你可以通过修改 <a class="reference internal" href="#std:setting-DOWNLOADER_MIDDLEWARES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOADER_MIDDLEWARES</span></code></a> 来实现相应的功能。
查看更多信息 <span class="xref std std-ref">docs-topics-downloader-middleware-setting</span> 。</p>
</div>
<div class="section" id="downloader-stats">
<span id="std:setting-DOWNLOADER_STATS"></span><h3>DOWNLOADER_STATS<a class="headerlink" href="#downloader-stats" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>是否收集下载器统计信息。</p>
</div>
<div class="section" id="download-delay">
<span id="std:setting-DOWNLOAD_DELAY"></span><h3>DOWNLOAD_DELAY<a class="headerlink" href="#download-delay" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
<p>在下载同一网站的连续页面时，下载器的等待时间(单位: 秒)。使用该配置对爬取速度进行限制，以免对目标服务器造成过大的压力。
(支持小数)。 例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DOWNLOAD_DELAY</span> <span class="o">=</span> <span class="mf">0.25</span>  <span class="c1"># 延迟 250毫秒</span>
</pre></div>
</div>
<p>该配置也被 <a class="reference internal" href="#std:setting-RANDOMIZE_DOWNLOAD_DELAY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">RANDOMIZE_DOWNLOAD_DELAY</span></code></a> (默认开启) 影响。默认情况下，Scrapy不会在两次请求之间
等待一个固定的时间，而是在 0.5 * <a class="reference internal" href="#std:setting-DOWNLOAD_DELAY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOAD_DELAY</span></code></a> 和 1.5 * <a class="reference internal" href="#std:setting-DOWNLOAD_DELAY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOAD_DELAY</span></code></a>
之间随机选取一个时间值。</p>
<p>当 <a class="reference internal" href="#std:setting-CONCURRENT_REQUESTS_PER_IP"><code class="xref std std-setting docutils literal notranslate"><span class="pre">CONCURRENT_REQUESTS_PER_IP</span></code></a> 的值不为0时，请求延时将会被每个ip限制，而不是每一个域名(domain)。</p>
<p>你也可以通过修改每一个spider中的 <code class="docutils literal notranslate"><span class="pre">download_delay</span></code> spider属性对该配置进行修改。</p>
</div>
<div class="section" id="download-handlers">
<span id="std:setting-DOWNLOAD_HANDLERS"></span><h3>DOWNLOAD_HANDLERS<a class="headerlink" href="#download-handlers" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">{}</span></code></p>
<p>一个包含了在你的项目中所启用的请求下载器处理器(request downloader handlers)。
参考 <a class="reference internal" href="#std:setting-DOWNLOAD_HANDLERS_BASE"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOAD_HANDLERS_BASE</span></code></a>。</p>
</div>
<div class="section" id="download-handlers-base">
<span id="std:setting-DOWNLOAD_HANDLERS_BASE"></span><h3>DOWNLOAD_HANDLERS_BASE<a class="headerlink" href="#download-handlers-base" title="Permalink to this headline">¶</a></h3>
<p>默认值</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="s1">&#39;scrapy.core.downloader.handlers.file.FileDownloadHandler&#39;</span><span class="p">,</span>
    <span class="s1">&#39;http&#39;</span><span class="p">:</span> <span class="s1">&#39;scrapy.core.downloader.handlers.http.HTTPDownloadHandler&#39;</span><span class="p">,</span>
    <span class="s1">&#39;https&#39;</span><span class="p">:</span> <span class="s1">&#39;scrapy.core.downloader.handlers.http.HTTPDownloadHandler&#39;</span><span class="p">,</span>
    <span class="s1">&#39;s3&#39;</span><span class="p">:</span> <span class="s1">&#39;scrapy.core.downloader.handlers.s3.S3DownloadHandler&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ftp&#39;</span><span class="p">:</span> <span class="s1">&#39;scrapy.core.downloader.handlers.ftp.FTPDownloadHandler&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>一个包含了在Scrapy中默认启用的请求下载处理器的字典。你不应该在你的项目中修改该配置，但是你可以通
过修改 <a class="reference internal" href="#std:setting-DOWNLOAD_HANDLERS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOAD_HANDLERS</span></code></a> 来实现相应的功能。</p>
<p>你可以通过将 <a class="reference internal" href="#std:setting-DOWNLOAD_HANDLERS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOAD_HANDLERS</span></code></a> 中的URI设定为 <code class="docutils literal notranslate"><span class="pre">None</span></code> 来关闭这些下载处理器(download handlers)。
比如说，关闭内置的FTP处理器，可以在你的 <code class="docutils literal notranslate"><span class="pre">settings.py</span></code> 中这样做</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DOWNLOAD_HANDLERS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;ftp&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="download-timeout">
<span id="std:setting-DOWNLOAD_TIMEOUT"></span><h3>DOWNLOAD_TIMEOUT<a class="headerlink" href="#download-timeout" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">180</span></code></p>
<p>为下载器设定超时时间(单位: 秒)。</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">你可以通过spider的 <code class="xref py py-attr docutils literal notranslate"><span class="pre">download_timeout</span></code> 属性为每一个spider设置超时时间，也可以通过
使用 <code class="xref std std-reqmeta docutils literal notranslate"><span class="pre">download_timeout</span></code> 在Request.meta 中对每一个请求设定一个超时时间。</p>
</div>
</div>
<div class="section" id="download-maxsize">
<span id="std:setting-DOWNLOAD_MAXSIZE"></span><h3>DOWNLOAD_MAXSIZE<a class="headerlink" href="#download-maxsize" title="Permalink to this headline">¶</a></h3>
<p>默认值: <cite>1073741824</cite> (1024MB)</p>
<p>下载器下载的最大响应大小(单位: 字节)。</p>
<p>如果你想要禁用该功能，将其值设定为0。</p>
<div class="admonition note" id="std:reqmeta-download_maxsize">
<p class="first admonition-title">Note</p>
<p>你可以通过spider的 <code class="xref py py-attr docutils literal notranslate"><span class="pre">download_maxsize</span></code> 属性为每一个spider设置下载大小，也可以通过
使用 <a class="reference internal" href="#std:reqmeta-download_maxsize"><code class="xref std std-reqmeta docutils literal notranslate"><span class="pre">download_maxsize</span></code></a> 在Request.meta 中对每一个请求设定一个下载大小。</p>
<p class="last">需要Twisted &gt;= 11.1.</p>
</div>
</div>
<div class="section" id="download-warnsize">
<span id="std:setting-DOWNLOAD_WARNSIZE"></span><h3>DOWNLOAD_WARNSIZE<a class="headerlink" href="#download-warnsize" title="Permalink to this headline">¶</a></h3>
<p>默认值: <cite>33554432</cite> (32MB)</p>
<p>下载器将会对响应的大小进行提示。</p>
<p>如果你想要禁用该功能，将其值设定为0。</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>你可以通过spider的 <code class="xref py py-attr docutils literal notranslate"><span class="pre">download_warnsize</span></code> 属性为每一个spider设置下载大小，也可以通过
使用 <code class="xref std std-reqmeta docutils literal notranslate"><span class="pre">download_warnsize</span></code> 在Request.meta 中对每一个请求设定一个下载大小。</p>
<p class="last">需要Twisted &gt;= 11.1.</p>
</div>
</div>
<div class="section" id="download-fail-on-dataloss">
<span id="std:setting-DOWNLOAD_FAIL_ON_DATALOSS"></span><h3>DOWNLOAD_FAIL_ON_DATALOSS<a class="headerlink" href="#download-fail-on-dataloss" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>中断的响应是否失败。也就是声明的 <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> 与服务器传送过来的不一致，或者是一部分响应
没有正常结束。如果将该值设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code>，响应将会引起(抛出)一个 <code class="docutils literal notranslate"><span class="pre">ResponseFailed([_DataLoss])</span></code>
错误。如果设置为 <code class="docutils literal notranslate"><span class="pre">False</span></code>，将会略过响应并为其添加一个 <code class="docutils literal notranslate"><span class="pre">dataloss</span></code> 标签，即: <code class="docutils literal notranslate"><span class="pre">'dataloss'</span> <span class="pre">in</span> <span class="pre">response.flags</span></code> 为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 。</p>
<p>作为一个可选项，你可以通过将Request.meta中的 <code class="xref std std-reqmeta docutils literal notranslate"><span class="pre">download_fail_on_dataloss</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">False</span></code>
来实现对于每一个请求的设置。</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">从服务器的配置错误到网络错误再到数据错误都有可能会引起响应的中断，或者数据丢失。考虑到中断的响应中可能会
包含部分不完整的内容，用户可以决定处理这些中断的响应是否有意义。如果 <code class="xref std std-setting docutils literal notranslate"><span class="pre">RETRY_ENABLED</span></code> 为 <code class="docutils literal notranslate"><span class="pre">True</span></code>
并且该配置( <code class="docutils literal notranslate"><span class="pre">DOWNLOAD_FAIL_ON_DATALOSS</span></code> ) 也为 <code class="docutils literal notranslate"><span class="pre">True</span></code>， 那么 <code class="docutils literal notranslate"><span class="pre">ResponseFailed([_DataLoss])</span></code>
错误仍然会被重试。</p>
</div>
</div>
<div class="section" id="dupefilter-class">
<span id="std:setting-DUPEFILTER_CLASS"></span><h3>DUPEFILTER_CLASS<a class="headerlink" href="#dupefilter-class" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapy.dupefilters.RFPDupeFilter'</span></code></p>
<p>该类被用来检测并过滤重复的请求。</p>
<p>默认的过滤器(<code class="docutils literal notranslate"><span class="pre">RFPDupeFilter</span></code>)基于使用 <code class="docutils literal notranslate"><span class="pre">scrapy.utils.request.request_fingerprint</span></code> 函数
的请求指纹。为了改变重复检测的方法，你可以继承 <code class="docutils literal notranslate"><span class="pre">RFPDupeFilter</span></code> 并重写它的 <code class="docutils literal notranslate"><span class="pre">request_fingerprint</span></code> 方法。
你怎么小心都不为过，因为你可能会陷入到循环爬取中。一个常用的好的建议是在 <code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code> 中
将 <code class="docutils literal notranslate"><span class="pre">dont_filter</span></code> 参数的值设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 让该请求不被过滤。</p>
</div>
<div class="section" id="dupefilter-dubug">
<span id="std:setting-DUPEFILTER_DUBUG"></span><h3>DUPEFILTER_DUBUG<a class="headerlink" href="#dupefilter-dubug" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>默认情况下， <code class="docutils literal notranslate"><span class="pre">RFPDupeFilter</span></code> 只记录第一条重复的请求。将 <code class="xref std std-setting docutils literal notranslate"><span class="pre">DUPEFILTER_DEBUG</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 来记录所有的重复请求。</p>
</div>
<div class="section" id="editor">
<span id="std:setting-EDITOR"></span><h3>EDITOR<a class="headerlink" href="#editor" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">vi</span></code> (Unix系统环境) IDLE编辑器 (Windows系统环境)</p>
<p>通过 <a class="reference internal" href="command_line_tool.html#std:command-edit"><code class="xref std std-command docutils literal notranslate"><span class="pre">edit</span></code></a> 命令，可以使用该编辑器编辑spiders。
此外，如果已经设定了环境变量 <code class="docutils literal notranslate"><span class="pre">EDITOR</span></code>，那么，使用 <a class="reference internal" href="command_line_tool.html#std:command-edit"><code class="xref std std-command docutils literal notranslate"><span class="pre">edit</span></code></a> 命令将不会调用默认编译器。</p>
</div>
<div class="section" id="extensions">
<span id="std:setting-EXTENSIONS"></span><h3>EXTENSIONS<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h3>
<p>默认值:: <code class="docutils literal notranslate"><span class="pre">{}</span></code></p>
<p>一个包含了可以在你的项目中启用的扩展及其执行顺序的字典。</p>
</div>
<div class="section" id="extensions-base">
<span id="std:setting-EXTENSIONS_BASE"></span><h3>EXTENSIONS_BASE<a class="headerlink" href="#extensions-base" title="Permalink to this headline">¶</a></h3>
<p>默认值</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;scrapy.extensions.corestats.CoreStats&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.extensions.telnet.TelnetConsole&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.extensions.memusage.MemoryUsage&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.extensions.memdebug.MemoryDebugger&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.extensions.closespider.CloseSpider&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.extensions.feedexport.FeedExporter&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.extensions.logstats.LogStats&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.extensions.spiderstate.SpiderState&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.extensions.throttle.AutoThrottle&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>一个包含了在Scrapy中默认可用的扩展及其顺序的字典。该配置中包含了所有稳定的内置扩展。
注意，其中的一些需要在配置中启用。</p>
<p>更多信息 <span class="xref std std-ref">extensions user guide</span> 以及 <span class="xref std std-ref">list of available extensions</span> 。</p>
</div>
<div class="section" id="feed-tempdir">
<span id="std:setting-FEED_TEMPDIR"></span><h3>FEED_TEMPDIR<a class="headerlink" href="#feed-tempdir" title="Permalink to this headline">¶</a></h3>
<p>Feed Temp 目录允许你设定一个自定义的目录用来保存爬虫临时文件，用于接下来将文件上传至 <span class="xref std std-ref">FTP feed storage</span> 和 <span class="xref std std-ref">Amazon S3</span> 。</p>
</div>
<div class="section" id="ftp-passive-mode">
<span id="std:setting-FTP_PASSIVE_MODE"></span><h3>FTP_PASSIVE_MODE<a class="headerlink" href="#ftp-passive-mode" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>初始化FTP传输时，是否启用被动模式。</p>
</div>
<div class="section" id="ftp-password">
<span id="std:setting-FTP_PASSWORD"></span><h3>FTP_PASSWORD<a class="headerlink" href="#ftp-password" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">&quot;guest&quot;</span></code></p>
<p>当使用FTP连接并且在 <code class="docutils literal notranslate"><span class="pre">Request</span></code> 的meta中不存在 <code class="docutils literal notranslate"><span class="pre">&quot;ftp_password&quot;</span></code> 时触发使用。</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">参考 <a href="#id12"><span class="problematic" id="id13">`RFC 1635`_</span></a> ，尽管通常使用”guest”作为密码或者邮箱地址登录匿名FTP，
但有一些FTP服务器明确的需要用户的邮箱地址，并且不允许使用”guest”作为登录密码。</p>
</div>
</div>
<div class="section" id="ftp-user">
<span id="std:setting-FTP_USER"></span><h3>FTP_USER<a class="headerlink" href="#ftp-user" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">&quot;anonymous&quot;</span></code></p>
<p>当没有在 <code class="docutils literal notranslate"><span class="pre">Request</span></code> 的meta属性中设置 <code class="docutils literal notranslate"><span class="pre">&quot;ftp_user&quot;</span></code> 时，使用该配置的值作为FTP连接的用户名。</p>
</div>
<div class="section" id="item-pipelines">
<span id="std:setting-ITEM_PIPELINES"></span><h3>ITEM_PIPELINES<a class="headerlink" href="#item-pipelines" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">{}</span></code></p>
<p>一个包含了 item pipelines及其顺序的字典。顺序值可以在 0-1000 内任意选择。值越小执行优先级越高。</p>
<p>例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="n">ITEM_PIPELINES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;mybot.pipelines.validate.ValidateMyItem&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
    <span class="s1">&#39;mybot.pipelines.validate.StoreMyItem&#39;</span><span class="p">:</span> <span class="mi">800</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="item-pipelines-base">
<span id="std:setting-ITEM_PIPELINES_BASE"></span><h3>ITEM_PIPELINES_BASE<a class="headerlink" href="#item-pipelines-base" title="Permalink to this headline">¶</a></h3>
<p>一个包含了在Scrapy中默认启用的pipelines的字典。你永远都不应该在你的项目中修改此配置，但你可以
通过修改 :setting: <cite>ITEM_PIPELINES</cite> 来实现相应的功能。</p>
</div>
<div class="section" id="log-enabled">
<span id="std:setting-LOG_ENABLED"></span><h3>LOG_ENABLED<a class="headerlink" href="#log-enabled" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>是否启用日志功能。</p>
</div>
<div class="section" id="log-encoding">
<span id="std:setting-LOG_ENCODING"></span><h3>LOG_ENCODING<a class="headerlink" href="#log-encoding" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'utf-8'</span></code></p>
<p>日志记录使用的编码格式。</p>
</div>
<div class="section" id="log-file">
<span id="std:setting-LOG_FILE"></span><h3>LOG_FILE<a class="headerlink" href="#log-file" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p>日志输出的文件名。如果设置为 <code class="docutils literal notranslate"><span class="pre">None</span></code>，将会使用标准错误流。</p>
</div>
<div class="section" id="log-format">
<span id="std:setting-LOG_FORMAT"></span><h3>LOG_FORMAT<a class="headerlink" href="#log-format" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'%(asctime)s</span> <span class="pre">[%(name)s]</span> <span class="pre">%(levelname)s:</span> <span class="pre">%(message)s'</span></code></p>
<p>日志消息的格式字符串。参考 <a class="reference external" href="https://docs.python.org/2/library/logging.html#logrecord-attributes">Python logging documentation</a> 获取更多信息。</p>
</div>
<div class="section" id="log-dateformat">
<span id="std:setting-LOG_DATEFORMAT"></span><h3>LOG_DATEFORMAT<a class="headerlink" href="#log-dateformat" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'%Y-%m-%d</span> <span class="pre">%H:%M:%S'</span></code></p>
<p>时间格式的字符串，可以作为 <a class="reference internal" href="#std:setting-LOG_FORMAT"><code class="xref std std-setting docutils literal notranslate"><span class="pre">LOG_FORMAT</span></code></a> 中 <code class="docutils literal notranslate"><span class="pre">%(asctime)s</span></code> 占位符的扩充。
参考 <a class="reference external" href="https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior">Python datetime documentation</a> 获取更多信息。</p>
</div>
<div class="section" id="log-level">
<span id="std:setting-LOG_LEVEL"></span><h3>LOG_LEVEL<a class="headerlink" href="#log-level" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'DEBUG'</span></code></p>
<p>日志记录的最小等级。可用的等级有: CRITICAL，ERROR，WARNING，INFO，DEBUG。更多信息 <span class="xref std std-ref">docs-topics-logging</span> 。</p>
</div>
<div class="section" id="log-stdout">
<span id="std:setting-LOG_STDOUT"></span><h3>LOG_STDOUT<a class="headerlink" href="#log-stdout" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>如果该值为 <code class="docutils literal notranslate"><span class="pre">True</span></code> ，程序中的所有标准输出(错误输出) 都会被重定向值日志中。比如，如果执行 <code class="docutils literal notranslate"><span class="pre">print</span> <span class="pre">'hell'</span></code>
打印值将会出现在Scrapy的日志中。</p>
</div>
<div class="section" id="log-short-names">
<span id="std:setting-LOG_SHORT_NAMES"></span><h3>LOG_SHORT_NAMES<a class="headerlink" href="#log-short-names" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>如果值为 <code class="docutils literal notranslate"><span class="pre">True</span></code> ，日志只会包含根路径。如果值为 <code class="docutils literal notranslate"><span class="pre">False</span></code> 则会显示负责日志输出的组件。</p>
</div>
<div class="section" id="memdebug-enabled">
<span id="std:setting-MEMDEBUG_ENABLED"></span><h3>MEMDEBUG_ENABLED<a class="headerlink" href="#memdebug-enabled" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>是否启用内存调试。</p>
</div>
<div class="section" id="memdebug-notify">
<span id="std:setting-MEMDEBUG_NOTIFY"></span><h3>MEMDEBUG_NOTIFY<a class="headerlink" href="#memdebug-notify" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">[]</span></code></p>
<p>如果启用了内存调试，并且该值为空，则内存报告将会被发送到指定的路径，否则，报告将会被写入日志。</p>
<p>例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MEMDEBUG_NOTIFY</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;user@example.com&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="memusage-enabled">
<span id="std:setting-MEMUSAGE_ENABLED"></span><h3>MEMUSAGE_ENABLED<a class="headerlink" href="#memusage-enabled" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.extensions.memusage</span></code></p>
<p>是否启用内存使用扩展。该扩展会追踪此进程使用内存的峰值(将写入统计信息中)。作为可选项，
当Scrapy进程占用的内存超过限定时，可以关闭该进程(查看 <a class="reference internal" href="#std:setting-MEMUSAGE_LIMIT_MB"><code class="xref std std-setting docutils literal notranslate"><span class="pre">MEMUSAGE_LIMIT_MB</span></code></a>)，
并通过邮件通知(查看 <a class="reference internal" href="#std:setting-MEMUSAGE_NOTIFY_MAIL"><code class="xref std std-setting docutils literal notranslate"><span class="pre">MEMUSAGE_NOTIFY_MAIL</span></code></a>)。</p>
<p>参考 <span class="xref std std-ref">docs-topics-extensions-ref-memusage</span> 。</p>
</div>
<div class="section" id="memusage-limit-mb">
<span id="std:setting-MEMUSAGE_LIMIT_MB"></span><h3>MEMUSAGE_LIMIT_MB<a class="headerlink" href="#memusage-limit-mb" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.extensions.memusage</span></code></p>
<p>在Scrapy关闭前允许使用的最大内存(单位: MB)，需要设置MEMUSAGE_ENABLED为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 。如果
值为0，将不会执行内存使用检测。</p>
<p>参考 <span class="xref std std-ref">docs-topics-extensions-ref-memusage</span> 。</p>
</div>
<div class="section" id="memusage-check-interval-seconds">
<span id="std:setting-MEMUSAGE_CHECK_INTERVAL_SECONDS"></span><h3>MEMUSAGE_CHECK_INTERVAL_SECONDS<a class="headerlink" href="#memusage-check-interval-seconds" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">60.0</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.extensions.memusage</span></code></p>
<p><span class="xref std std-ref">Memory usage extension</span> 用来检测当前内存使用情况，
相对的， <code class="xref std std-setting docutils literal notranslate"><span class="pre">MEMUSAGE_LIMIT_MB</span> <span class="pre">与</span> <span class="pre">:setting:`MEMUSAGE_WARNING_MB</span></code> 用来设置固定的时间间隔。</p>
<p>该配置用来设置间隔的时长(单位: 秒)。</p>
<p>参考 <span class="xref std std-ref">docs-topics-extensions-ref-memusage</span> 。</p>
</div>
<div class="section" id="memusage-notify-mail">
<span id="std:setting-MEMUSAGE_NOTIFY_MAIL"></span><h3>MEMUSAGE_NOTIFY_MAIL<a class="headerlink" href="#memusage-notify-mail" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.extensions.memusage</span></code></p>
<p>当内存使用到达限制，需要通知的邮件列表。</p>
<p>例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MEMUSAGE_NOTIFY_MAIL</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;user@example.com&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>参考 <span class="xref std std-ref">docs-topics-extensions-ref-memusage</span> 。</p>
</div>
<div class="section" id="memusage-warning-mb">
<h3>MEMUSAGE_WARNING_MB<a class="headerlink" href="#memusage-warning-mb" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.extensions.memusage</span></code></p>
<p>触发警告并发送邮件前允许使用的最大内存。如果值为0，不会产生任何警告。</p>
</div>
<div class="section" id="newspider-module">
<span id="std:setting-NEWSPIDER_MODULE"></span><h3>NEWSPIDER_MODULE<a class="headerlink" href="#newspider-module" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">''</span></code></p>
<p>使用 <a class="reference internal" href="command_line_tool.html#std:command-genspider"><code class="xref std std-command docutils literal notranslate"><span class="pre">genspider</span></code></a> 命令时创建新的spiders的位置。</p>
<p>例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">NEWSPIDER_MODULE</span> <span class="o">=</span> <span class="s1">&#39;mybot.spiders_dev&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="randomize-download-delay">
<span id="std:setting-RANDOMIZE_DOWNLOAD_DELAY"></span><h3>RANDOMIZE_DOWNLOAD_DELAY<a class="headerlink" href="#randomize-download-delay" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>当启用时，Scrapy在获取相同网站的请求时将会等待的随机时间 (在 0.5 * <a class="reference internal" href="#std:setting-DOWNLOAD_DELAY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOAD_DELAY</span></code></a> 与 1.5 * <a class="reference internal" href="#std:setting-DOWNLOAD_DELAY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOAD_DELAY</span></code></a> 之间)。</p>
<p>进行随机时间延迟选择将会降低爬虫被网站检测到的几率。</p>
<p>该随机选择策略与 <a class="reference external" href="https://www.gnu.org/software/wget/manual/wget.html">wget</a> 的 <code class="docutils literal notranslate"><span class="pre">--random-wait</span></code> 的选项策略相同。</p>
<p>如果 <a class="reference internal" href="#std:setting-DOWNLOAD_DELAY"><code class="xref std std-setting docutils literal notranslate"><span class="pre">DOWNLOAD_DELAY</span></code></a> 的值为0(默认)，该选项不会产生任何作用。</p>
</div>
<div class="section" id="reactor-threadpool-maxsize">
<span id="std:setting-REACTOR_THREADPOOL_MAXSIZE"></span><h3>REACTOR_THREADPOOL_MAXSIZE<a class="headerlink" href="#reactor-threadpool-maxsize" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
<p>Twisted Reactor 线程池的最大容量。它是一个被大量Scrapy组件所使用的通用多目的线程池。
线程DNS解析器，BlockingFeedStorage， S3FilesStore仅仅是一小部分。如果你正在遭受
阻塞IO的效率问题，你可以适当的增加该值。</p>
</div>
<div class="section" id="redirect-max-times">
<span id="std:setting-REDIRECT_MAX_TIMES"></span><h3>REDIRECT_MAX_TIMES<a class="headerlink" href="#redirect-max-times" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">20</span></code></p>
<p>定义一个请求可以被重定向的最大次数。当超过最大值后，返回该请求目前对应的响应。我们使用Firefox的默认值来应对相同的任务。</p>
</div>
<div class="section" id="redirect-priority-adjust">
<span id="std:setting-REDIRECT_PRIORITY_ADJUST"></span><h3>REDIRECT_PRIORITY_ADJUST<a class="headerlink" href="#redirect-priority-adjust" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">+2</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.downloadermiddlewares.redirect.RedirectMiddleware</span></code></p>
<p>调整与原请求相关的重定向请求的优先级:</p>
<ul class="simple">
<li><strong>一个正数优先级调整意味着更高的优先级。</strong></li>
<li>一个负数优先级调整，意味着更低的优先级。</li>
</ul>
</div>
<div class="section" id="retry-priority-adjust">
<span id="std:setting-RETRY_PRIORITY_ADJUST"></span><h3>RETRY_PRIORITY_ADJUST<a class="headerlink" href="#retry-priority-adjust" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.downloadermiddlewares.retry.RetryMiddleware</span></code></p>
<p>调整与原请求相关的重试请求的优先级:</p>
<ul class="simple">
<li>一个正数优先级调整意味着更高的优先级。</li>
<li><strong>一个负数优先级调整(默认)意味着更低的优先级。</strong></li>
</ul>
</div>
<div class="section" id="robotstxt-obey">
<span id="std:setting-ROBOTSTXT_OBEY"></span><h3>ROBOTSTXT_OBEY<a class="headerlink" href="#robotstxt-obey" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">scrapy.downloadermiddlewares.robotstxt</span></code></p>
<p>如果启用该配置，Scrapy将会遵守robots.txt政策。更多信息 <span class="xref std std-ref">docs-topics-dlmw-robots</span> 。</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">由于历史原因，该值被默认设置为 <code class="docutils literal notranslate"><span class="pre">False</span></code> ，在使用 <code class="docutils literal notranslate"><span class="pre">scrapy</span> <span class="pre">startproject</span></code> 命令生成
settings.py文件时，该组件被默认启用。</p>
</div>
</div>
<div class="section" id="scheduler">
<span id="std:setting-SCHEDULER"></span><h3>SCHEDULER<a class="headerlink" href="#scheduler" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapy.core.scheduler.Scheduler'</span></code></p>
<p>爬虫的调度程序。</p>
</div>
<div class="section" id="scheduler-dubug">
<span id="std:setting-SCHEDULER_DUBUG"></span><h3>SCHEDULER_DUBUG<a class="headerlink" href="#scheduler-dubug" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>将该值设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 将会记录请求调度的调试信息。如果请求不能序列化至磁盘，则只记录一次当前的日志信息(仅此一次)。
统计计数器( <code class="docutils literal notranslate"><span class="pre">scheduler/unserializable</span></code> ) 会追踪该问题的发生次数。</p>
<p>例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">1956</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mi">31</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="o">+</span><span class="mi">0800</span> <span class="p">[</span><span class="n">scrapy</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">scheduler</span><span class="p">]</span> <span class="n">ERROR</span><span class="p">:</span> <span class="n">Unable</span> <span class="n">to</span> <span class="n">serialize</span> <span class="n">request</span><span class="p">:</span>
<span class="o">&lt;</span><span class="n">GET</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">reason</span><span class="p">:</span> <span class="n">cannot</span> <span class="n">serialize</span> <span class="o">&lt;</span><span class="n">Request</span> <span class="n">at</span> <span class="mh">0x9a7c7ec</span><span class="o">&gt;</span>
<span class="p">(</span><span class="nb">type</span> <span class="n">Request</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">-</span> <span class="n">no</span> <span class="n">more</span> <span class="n">unserializable</span> <span class="n">requests</span> <span class="n">will</span> <span class="n">be</span> <span class="n">logged</span>
<span class="p">(</span><span class="n">see</span> <span class="s1">&#39;scheduler/unserializable&#39;</span> <span class="n">stats</span> <span class="n">counter</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="scheduler-disk-queue">
<span id="std:setting-SCHEDULER_DISK_QUEUE"></span><h3>SCHEDULER_DISK_QUEUE<a class="headerlink" href="#scheduler-disk-queue" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapy.squeues.PickleLifoDiskQueue'</span></code></p>
<p>调度器将会使用的磁盘队列(disk queue)类型。其他可用的类型有: <code class="docutils literal notranslate"><span class="pre">scrapy.squeues.PickleFifoDiskQueue</span></code> ，
<code class="docutils literal notranslate"><span class="pre">scrapy.squeues.MarshalFifoDiskQueue</span></code>, <code class="docutils literal notranslate"><span class="pre">scrapy.squeues.MarshalLifoDiskQueue</span></code> 。</p>
</div>
<div class="section" id="scheduler-memory-queue">
<span id="std:setting-SCHEDULER_MEMORY_QUEUE"></span><h3>SCHEDULER_MEMORY_QUEUE<a class="headerlink" href="#scheduler-memory-queue" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapy.squeues.LifoMemoryQueue'</span></code></p>
<p>调度器使用的内存队列(in-memory queue)类型。其他可用类型: <code class="docutils literal notranslate"><span class="pre">scrapy.squeues.FifoMemoryQueue</span></code> 。</p>
</div>
<div class="section" id="scheduler-priority-queue">
<span id="std:setting-SCHEDULER_PRIORITY_QUEUE"></span><h3>SCHEDULER_PRIORITY_QUEUE<a class="headerlink" href="#scheduler-priority-queue" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'queuelib.PriorityQueue'</span></code></p>
<p>调度器使用的优先级队列的类型。</p>
</div>
<div class="section" id="spider-contracts">
<span id="std:setting-SPIDER_CONTRACTS"></span><h3>SPIDER_CONTRACTS<a class="headerlink" href="#spider-contracts" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">{}</span></code></p>
<p>一个包含了可以在你的项目中启用的spider条款(spider contracts)的字典，可以使用该配置对spiders进行测试。
更多信息 <span class="xref std std-ref">docs-topics-contracts</span> 。</p>
</div>
<div class="section" id="spider-contracts-base">
<span id="std:setting-SPIDER_CONTRACTS_BASE"></span><h3>SPIDER_CONTRACTS_BASE<a class="headerlink" href="#spider-contracts-base" title="Permalink to this headline">¶</a></h3>
<p>默认值</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;scrapy.contracts.default.UrlContract&#39;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.contracts.default.ReturnsContract&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.contracts.default.ScrapesContract&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>一个包含了在Scrapy中默认启用的scrapy条款。你永远都不要修改它，但你可以通过修改 <a class="reference internal" href="#std:setting-SPIDER_CONTRACTS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SPIDER_CONTRACTS</span></code></a></dt>
<dd>实现相应的功能。 更多信息 <span class="xref std std-ref">docs-topics-contracts</span></dd>
</dl>
<p>你可与通过将 <a class="reference internal" href="#std:setting-SPIDER_CONTRACTS"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SPIDER_CONTRACTS</span></code></a> 中对应的条款值设置为 <code class="docutils literal notranslate"><span class="pre">None</span></code> 来禁用对应条款。
比如说禁用内置的 <code class="docutils literal notranslate"><span class="pre">ScrapesContract</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SPIDER_CONTRACTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;scrapy.contracts.default.ScrapesContract&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="spider-loader-class">
<span id="std:setting-SPIDER_LOADER_CLASS"></span><h3>SPIDER_LOADER_CLASS<a class="headerlink" href="#spider-loader-class" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapy.spiderloader.SpiderLoader'</span></code></p>
<p>该类被用来加载spiders，且必须执行 <span class="xref std std-ref">topics-api-spiderloader</span> 。</p>
</div>
<div class="section" id="spider-loader-warn-only">
<span id="std:setting-SPIDER_LOADER_WARN_ONLY"></span><h3>SPIDER_LOADER_WARN_ONLY<a class="headerlink" href="#spider-loader-warn-only" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.3.</span></p>
</div>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>默认情况下，当scrapy尝试从 <a class="reference internal" href="#std:setting-SPIDER_MODULES"><code class="xref std std-setting docutils literal notranslate"><span class="pre">SPIDER_MODULES</span></code></a> 中导入spider类时，如果出现任何 <code class="docutils literal notranslate"><span class="pre">ImportError</span></code> 异常，
程序将显示一个明显的错误。但是，你可以将 <code class="docutils literal notranslate"><span class="pre">SPIDER_LOADER_WARN_ONLY</span></code> 的值设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 来隐藏该异常并发出一个简单的
警告。</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">一些 <span class="xref std std-ref">scrapy commands</span> 运行时，已经将该配置的值设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code> (即它们只会发出警告，并不会产生错误)
所以，它们不要加载spider类:
<code class="xref std std-command docutils literal notranslate"><span class="pre">scrapy</span> <span class="pre">runspider</span></code>,
<a class="reference internal" href="command_line_tool.html#std:command-settings"><code class="xref std std-command docutils literal notranslate"><span class="pre">scrapy</span> <span class="pre">settings</span></code></a>,
<a class="reference internal" href="command_line_tool.html#std:command-startproject"><code class="xref std std-command docutils literal notranslate"><span class="pre">scrapy</span> <span class="pre">startproject</span></code></a>,
<a class="reference internal" href="command_line_tool.html#std:command-version"><code class="xref std std-command docutils literal notranslate"><span class="pre">scrapy</span> <span class="pre">version</span></code></a>.</p>
</div>
</div>
<div class="section" id="spider-middlewares">
<span id="std:setting-SPIDER_MIDDLEWARES"></span><h3>SPIDER_MIDDLEWARES<a class="headerlink" href="#spider-middlewares" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">{}</span></code></p>
<p>一个包含了可以在你的项目中启用的spider中间件及其顺序的字典。更多信息 <span class="xref std std-ref">docs-topics-spider-middleware-setting</span> 。</p>
</div>
<div class="section" id="spider-middlewares-base">
<span id="std:setting-SPIDER_MIDDLEWARES_BASE"></span><h3>SPIDER_MIDDLEWARES_BASE<a class="headerlink" href="#spider-middlewares-base" title="Permalink to this headline">¶</a></h3>
<p>默认值</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;scrapy.spidermiddlewares.httperror.HttpErrorMiddleware&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.spidermiddlewares.offsite.OffsiteMiddleware&#39;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.spidermiddlewares.referer.RefererMiddleware&#39;</span><span class="p">:</span> <span class="mi">700</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.spidermiddlewares.urllength.UrlLengthMiddleware&#39;</span><span class="p">:</span> <span class="mi">800</span><span class="p">,</span>
    <span class="s1">&#39;scrapy.spidermiddlewares.depth.DepthMiddleware&#39;</span><span class="p">:</span> <span class="mi">900</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>一个包含了在Scrapy中默认启用的spider中间件及其顺序的字典。低顺序的接近scrapy引擎，高顺序的接近spider。
更多信息 <span class="xref std std-ref">docs-topics-spider-middleware-setting</span> 。</p>
</div>
<div class="section" id="spider-modules">
<span id="std:setting-SPIDER_MODULES"></span><h3>SPIDER_MODULES<a class="headerlink" href="#spider-modules" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">[]</span></code></p>
<p>一个包含了Scrapy将要查询的spider列表。</p>
<p>例</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SPIDER_MODULES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mybot.spiders_prod&#39;</span><span class="p">,</span> <span class="s1">&#39;mybot.spiders_dev&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="stats-class">
<span id="std:setting-STATS_CLASS"></span><h3>STATS_CLASS<a class="headerlink" href="#stats-class" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">'scrapy.statscollectors.MemoryStatsCollector'</span></code></p>
<p>用来收集统计信息的类，必须实现 <span class="xref std std-ref">docs-topics-api-stats</span> 。</p>
</div>
<div class="section" id="stats-dump">
<span id="std:setting-STATS_DUMP"></span><h3>STATS_DUMP<a class="headerlink" href="#stats-dump" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>当spider结束时，用来转移 <span class="xref std std-ref">Scrapy stats</span> 到日志中。</p>
<p>更多信息 <span class="xref std std-ref">docs-topics-stats</span> 。</p>
</div>
<div class="section" id="statsmailer-rcpts">
<span id="std:setting-STATSMAILER_RCPTS"></span><h3>STATSMAILER_RCPTS<a class="headerlink" href="#statsmailer-rcpts" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">[]</span></code></p>
<p>当爬取结束时，用来发送统计信息。 更多信息 <code class="xref py py-class docutils literal notranslate"><span class="pre">StatsMailer</span></code> 。</p>
</div>
<div class="section" id="telnetconsole-enabled">
<span id="std:setting-TELNETCONSOLE_ENABLED"></span><h3>TELNETCONSOLE_ENABLED<a class="headerlink" href="#telnetconsole-enabled" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>是否启用 <span class="xref std std-ref">telnet console</span> 。</p>
</div>
<div class="section" id="telnetconsole-port">
<span id="std:setting-TELNETCONSOLE_PORT"></span><h3>TELNETCONSOLE_PORT<a class="headerlink" href="#telnetconsole-port" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">[6023,</span> <span class="pre">6073]</span></code></p>
<p>远程控制使用的端口范围。如果设置为 <code class="docutils literal notranslate"><span class="pre">None</span></code> 或 <code class="docutils literal notranslate"><span class="pre">0</span></code> ，将会动态的分配一个端口。 更多信息 <span class="xref std std-ref">topics-telnetconsole</span> 。</p>
</div>
<div class="section" id="templates-dir">
<span id="std:setting-TEMPLATES_DIR"></span><h3>TEMPLATES_DIR<a class="headerlink" href="#templates-dir" title="Permalink to this headline">¶</a></h3>
<p>默认值: scrapy模块中的 <code class="docutils literal notranslate"><span class="pre">templates</span></code> 文件</p>
<p>当使用 <a class="reference internal" href="command_line_tool.html#std:command-startproject"><code class="xref std std-command docutils literal notranslate"><span class="pre">startproject</span></code></a> 命令创建新项目或使用 <a class="reference internal" href="command_line_tool.html#std:command-genspider"><code class="xref std std-command docutils literal notranslate"><span class="pre">genspider</span></code></a> 命令创建新的spider时查找的模板路径。</p>
<p>项目的名称不能与用户文件名或者是项目中的子文件冲突。</p>
</div>
<div class="section" id="urllength-limit">
<span id="std:setting-URLLENGTH_LIMIT"></span><h3>URLLENGTH_LIMIT<a class="headerlink" href="#urllength-limit" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">2083</span></code></p>
<p>作用域: <code class="docutils literal notranslate"><span class="pre">spidermiddlewares.urllength</span></code></p>
<p>允许爬取的URL的最长长度。更多信息: <a class="reference external" href="https://boutell.com/newfaq/misc/urllength.html">https://boutell.com/newfaq/misc/urllength.html</a></p>
</div>
<div class="section" id="user-agent">
<span id="std:setting-USER_AGENT"></span><h3>USER_AGENT<a class="headerlink" href="#user-agent" title="Permalink to this headline">¶</a></h3>
<p>默认值: <code class="docutils literal notranslate"><span class="pre">&quot;Scrapy/VERSION</span> <span class="pre">(+https://scrapy.org)&quot;</span></code></p>
<p>爬取时的默认用户代理。</p>
</div>
<div class="section" id="settings-documented-elsehwhere">
<h3>Settings documented elsehwhere:<a class="headerlink" href="#settings-documented-elsehwhere" title="Permalink to this headline">¶</a></h3>
<p>接下来的配置可以被记录在其他地方，查看更多信息:</p>
<ul class="simple">
<li><a class="reference internal" href="command_line_tool.html#std:setting-COMMANDS_MODULE">COMMANDS_MODULE</a></li>
<li><a class="reference internal" href="feed_exports.html#std:setting-FEED_EXPORTERS">FEED_EXPORTERS</a></li>
<li><a class="reference internal" href="feed_exports.html#std:setting-FEED_EXPORTERS_BASE">FEED_EXPORTERS_BASE</a></li>
<li><a class="reference internal" href="feed_exports.html#std:setting-FEED_EXPORT_ENCODING">FEED_EXPORT_ENCODING</a></li>
<li><a class="reference internal" href="feed_exports.html#std:setting-FEED_EXPORT_FIELDS">FEED_EXPORT_FIELDS</a></li>
<li><a class="reference internal" href="feed_exports.html#std:setting-FEED_EXPORT_INDENT">FEED_EXPORT_INDENT</a></li>
<li><a class="reference internal" href="feed_exports.html#std:setting-FEED_FORMAT">FEED_FORMAT</a></li>
<li><a class="reference internal" href="feed_exports.html#std:setting-FEED_STORAGES">FEED_STORAGES</a></li>
<li><a class="reference internal" href="feed_exports.html#std:setting-FEED_STORAGES_BASE">FEED_STORAGES_BASE</a></li>
<li><a class="reference internal" href="feed_exports.html#std:setting-FEED_STORE_EMPTY">FEED_STORE_EMPTY</a></li>
<li><a class="reference internal" href="feed_exports.html#std:setting-FEED_URI">FEED_URI</a></li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="link_extractors.html" class="btn btn-neutral" title="链接提取器" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, mas.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.15',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script type="text/javascript">
!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
analytics.load("8UDQfnf3cyFSTsM4YANnW5sXmgZVILbA");
analytics.page();
}}();

analytics.ready(function () {
    ga('require', 'linker');
    ga('linker:autoLink', ['scrapinghub.com', 'crawlera.com']);
});
</script>


</body>
</html>